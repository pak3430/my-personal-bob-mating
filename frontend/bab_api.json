{"openapi":"3.1.0","info":{"title":"밥 메이팅 프로젝트","version":"v3"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"BearerAuth":[]}],"paths":{"/api/user/profile":{"get":{"tags":["user-controller"],"summary":"회원 프로필 조회","description":"현재 로그인된 사용자의 프로필 정보를 조회합니다. 이 API는 인증된 사용자의 정보를 기반으로 동작하며, 별도의 파라미터 입력은 필요하지 않습니다.","operationId":"getProfile","responses":{"200":{"description":"조회된 사용자 프로필 정보를 담은 DTO.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProfileResponse"}}}}}},"put":{"tags":["user-controller"],"summary":"프로필 수정","description":"현재 로그인된 사용자의 프로필 정보(닉네임, 프로필 이미지 URL)를 업데이트합니다.이 API는 인증된 사용자의 정보를 기반으로 동작하며, 별도의 파라미터 입력은 필요하지 않습니다.","operationId":"updateProfile","requestBody":{"description":"회원가입에 필요한 사용자 정보를 담은 DTO (이메일, 비밀번호, 닉네임 등).","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileUpdateRequest"}}},"required":true},"responses":{"200":{"description":"업데이트된 사용자 프로필 정보를 담은 DTO","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProfileResponse"}}}}}}},"/api/user/phone-number":{"put":{"tags":["user-controller"],"summary":"사용자 전화번호 변경","description":"현재 비밀번호 인증 후 전화번호를 변경합니다.이 API는 인증된 사용자의 정보를 기반으로 동작하며, 별도의 파라미터 입력은 필요하지 않습니다.","operationId":"updatePhoneNumber","requestBody":{"description":"변경할 새로운 전화번호와 현재 비밀번호(또는 인증 코드)를 담은 DTO","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PhoneNumberUpdateRequest"}}},"required":true},"responses":{"200":{"description":"업데이트된 사용자 전화번호 정보를 담은 DTO","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PhoneNumberResponse"}}}}}}},"/api/user/password":{"put":{"tags":["user-controller"],"summary":"사용자 비밀번호 변경","description":"현재 비밀번호와 새로운 비밀번호를 입력받아 비밀번호를 변경합니다.이 API는 인증된 사용자의 정보를 기반으로 동작하며, 별도의 파라미터 입력은 필요하지 않습니다.","operationId":"changePassword","requestBody":{"description":"현재 비밀번호와 새로운 비밀번호 정보를 담은 DTO","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}},"required":true},"responses":{"200":{"description":"비밀번호 변경 성공 메시지를 포함하는 응답","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/user/email":{"put":{"tags":["user-controller"],"summary":"사용자 이메일 변경","description":"현재 로그인된 사용자의 이메일 주소를 변경합니다. 변경 후에는 기존 토큰이 무효화될 수 있습니다.이 API는 인증된 사용자의 정보를 기반으로 동작하며, 별도의 파라미터 입력은 필요하지 않습니다.","operationId":"updateEmail","requestBody":{"description":"변경할 새로운 이메일 주소와 현재 비밀번호를 담은 DTO","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailUpdateRequest"}}},"required":true},"responses":{"200":{"description":"업데이트된 사용자 이메일 정보를 담은 DTO","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EmailResponse"}}}}}}},"/api/user/signup":{"post":{"tags":["user-controller"],"summary":"사용자 회원가입","description":"회원가입 요청 정보를 받아 새 사용자를 등록합니다.","operationId":"signup","requestBody":{"description":"회원가입에 필요한 사용자 정보를 담은 DTO (이메일, 비밀번호, 닉네임 등).","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupRequest"}}},"required":true},"responses":{"200":{"description":"회원가입 성공 메시지를 포함하는 응답.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/matchings/wait":{"post":{"tags":["matching-controller"],"summary":"매칭 요청 생성","description":"매칭 요청을 생성합니다.","operationId":"requestMatching","requestBody":{"description":"매칭 요청에 필요한 정보","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MatchRequest"}}},"required":true},"responses":{"200":{"description":"생성된 매칭 요청 정보","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MatchResponse"}}}}}}},"/api/auth/refresh":{"post":{"tags":["auth-controller"],"summary":"액세스 토큰 재발급","description":"리프레시 토큰을 기반으로 새로운 액세스 토큰을 발급합니다. 헤더 또는 쿠키에서 refreshToken을 전달합니다.","operationId":"refreshAccessToken","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}},{"name":"refreshToken","in":"cookie","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"새로 발급된 Access Token 및 갱신된 Refresh Token 정보를 포함하는 응답","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AccessTokenResponseDto"}}}}}}},"/api/auth/logout":{"post":{"tags":["auth-controller"],"summary":"사용자 로그아웃","description":"refreshToken을 요청 본문에 담아 세션을 무효화하여 로그아웃 처리합니다.","operationId":"logout","requestBody":{"description":"Refresh Token을 포함하는 요청 DTO","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogoutRequest"}}},"required":true},"responses":{"200":{"description":"로그아웃 성공 메시지를 포함하는 응답","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/auth/login":{"post":{"tags":["auth-controller"],"summary":"사용자 로그인","description":"아이디/비밀번호를 통해 로그인하고 JWT를 반환합니다.","operationId":"login","requestBody":{"description":"로그인 요청에 필요한 아이디(이메일)와 비밀번호를 담은 DTO","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"로그인 성공 시 발급된 Access Token 및 Refresh Token 정보를 포함하는 응답","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}}}}},"/api/user/me/details":{"get":{"tags":["user-controller"],"summary":"사용자 상세 정보 조회","description":"현재 로그인한 사용자의 모든 상세 프로필 정보를 반환합니다. 전화번호, 이메일 등 민감 정보 포함.이 API는 인증된 사용자의 정보를 기반으로 동작하며, 별도의 파라미터 입력은 필요하지 않습니다.","operationId":"getUserDetails","responses":{"200":{"description":"조회된 사용자 상세 정보를 담은 DTO","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserInfoDetailsResponse"}}}}}}},"/api/matchings/status":{"get":{"tags":["matching-controller"],"summary":"내 매칭 상태 조회","description":"현재 내 매칭 요청 상태(대기·매칭완료·취소)를 조회합니다.","operationId":"getMyMatchingStatus","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseMatchStatus"}}}}}}},"/api/user/withdraw":{"delete":{"tags":["user-controller"],"summary":"회원 탈퇴","description":"회원 탈퇴를 처리합니다. 사용자의 모든 데이터가 삭제됩니다.이 API는 인증된 사용자의 정보를 기반으로 동작하며, 별도의 파라미터 입력은 필요하지 않습니다.","operationId":"withdraw","responses":{"200":{"description":"회원 탈퇴 성공 메시지를 포함하는 응답","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/matchings/{id}":{"delete":{"tags":["matching-controller"],"summary":"매칭 요청 취소","description":"매칭 요청 중 취소를 합니다.","operationId":"cancelMatching","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}}},"components":{"schemas":{"ProfileUpdateRequest":{"type":"object","properties":{"nickname":{"type":"string","description":"닉네임","example":"닉네임"},"profileImageUrl":{"type":"string","description":"프로필 이미지","example":"http://localhost:8080/images/profiles/user123.jpg"}}},"ProfileResponse":{"type":"object","properties":{"nickname":{"type":"string","description":"닉네임","example":"닉네임"},"profileImageUrl":{"type":"string","description":"프로필 이미지","example":"http://localhost:8080/images/profiles/user123.jpg"}}},"PhoneNumberUpdateRequest":{"type":"object","properties":{"newPhoneNumber":{"type":"string","description":"새 핸드폰 번호","example":"010-2020-2020"},"currentPassword":{"type":"string","description":"현재 비밀번호","example":"password123"}}},"PhoneNumberResponse":{"type":"object","properties":{"phoneNumber":{"type":"string","description":"핸드폰 번호","example":"010-1010-1010"}}},"ChangePasswordRequest":{"type":"object","properties":{"oldPassword":{"type":"string","description":"현재 비밀번호","example":"password123"},"newPassword":{"type":"string","description":"새 비밀번호","example":"password1231"}}},"ApiResponseVoid":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"object"}}},"EmailUpdateRequest":{"type":"object","properties":{"newEmail":{"type":"string","description":"새 이메일","example":"user123@example.com"},"currentPassword":{"type":"string","description":"현재 비밀번호","example":"password123"}}},"EmailResponse":{"type":"object","properties":{"email":{"type":"string","description":"이메일 주소","example":"user@example.com"}}},"SignupRequest":{"type":"object","properties":{"email":{"type":"string","description":"사용자 이메일","example":"user@example.com"},"password":{"type":"string","description":"비밀번호","example":"password123"},"nickname":{"type":"string","description":"닉네임","example":"user123"},"gender":{"type":"string","description":"성별","example":"male"},"age":{"type":"integer","format":"int32","description":"나이","example":29},"phoneNumber":{"type":"string","description":"전화번호","example":"010-1010-1010"},"profileImageUrl":{"type":"string","description":"프로필 이미지 URL","example":"http://localhost:8080/images/profiles/user123.jpg"}}},"MatchRequest":{"type":"object","properties":{"groupSize":{"type":"integer","format":"int32","description":"인원수","example":2},"region":{"type":"string","description":"선호 지역","enum":["SEOUL","BUSAN","DAEGU","INCHEON","GWANGJU","DAEJEON","ULSAN","GYEONGGI","GANGWON","CHUNGBUK","CHUNGNAM","JEONBUK","JEONNAM","GYEONGBUK","GYEONGNAM","JEJU"]},"food":{"type":"string","description":"선호 음식","enum":["KOREAN","CHINESE","JAPANESE","WESTERN","FASTFOOD","CAFE","MEXICAN","INDIAN","THAI","VIETNAMESE"]}}},"MatchResponse":{"type":"object","properties":{"matchId":{"type":"integer","format":"int64","description":"매칭Id","example":123123},"status":{"type":"string","description":"매칭 상태","enum":["PENDING","MATCHED","CANCELED"],"example":"PENDING"},"createdAt":{"type":"string","format":"date-time","description":"매칭 요청 시각"}}},"AccessTokenResponseDto":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"}}},"LogoutRequest":{"type":"object","properties":{"refreshToken":{"type":"string"}}},"LoginRequest":{"type":"object","properties":{"email":{"type":"string","description":"사용자 이메일","example":"user@example.com"},"password":{"type":"string","description":"비밀번호","example":"password123"}}},"AuthResponseDto":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"}}},"UserInfoDetailsResponse":{"type":"object","properties":{"email":{"type":"string","description":"사용자 이메일","example":"user@example.com"},"nickname":{"type":"string","description":"닉네임","example":"user123"},"gender":{"type":"string","description":"성별","enum":["MALE","FEMALE","UNKNOWN"],"example":"MALE"},"age":{"type":"integer","format":"int32","description":"나이","example":29},"phoneNumber":{"type":"string","description":"전화번호","example":"010-1010-1010"},"profileImageUrl":{"type":"string","description":"프로필 이미지 URL","example":"http://localhost:8080/images/profiles/user123.jpg"},"role":{"type":"string","description":"유저 권한","enum":["ROLE_USER","ROLE_ADMIN"],"example":"ROLE_USER"}}},"ApiResponseMatchStatus":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/MatchStatus"}}},"MatchStatus":{"type":"object","properties":{"matchId":{"type":"integer","format":"int64","description":"매칭 ID","example":123123},"status":{"type":"string","description":"매칭 상태","enum":["PENDING","MATCHED","CANCELED"],"example":"MATCHED"},"createdAt":{"type":"string","format":"date-time","description":"매칭 요청 시각"},"matchedUserIds":{"type":"integer","format":"int64","description":"매칭된 유저 ID"}}}},"securitySchemes":{"BearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}